[{"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/index.js":"1","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/App.js":"2","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/reportWebVitals.js":"3","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/Main.js":"4","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/Purchases.js":"5","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/RecipeBook.js":"6","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/PurchaseNavigator.js":"7","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/input/InputNavigator.js":"8","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/PurchaseFromNFe.js":"9","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/Purchase.js":"10","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/PurchaseCrud.js":"11","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/input/Input.js":"12","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/generics/Navigator.js":"13","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/generics/BasicCrud.js":"14","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/input/InputAux.js":"15","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/provider/Provider.js":"16","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/item/PurchaseItem.js":"17","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/item/PurchaseItemCrud.js":"18","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/nfe/NfeCrud.js":"19","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/unit/SimplerUnit.js":"20","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/inventory/InventoryMovemmentCrud.js":"21","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/input/SimplerInput.js":"22","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/Accounting.js":"23","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/account/AccountNavigator.js":"24","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/transaction/TransactionListView.js":"25","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/account/Account.js":"26","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/account/AccountCrud.js":"27","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/transaction/TransactionCrud.js":"28","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/transaction/SimplerTransaction.js":"29","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/generics/ListView.js":"30","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/transaction/Transaction.js":"31","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/generics/SimplerLinkSelect.js":"32","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/entry/EntryList.js":"33","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/entry/EntryCrud.js":"34","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/entry/Entry.js":"35"},{"size":581,"mtime":1610904736004,"results":"36","hashOfConfig":"37"},{"size":124,"mtime":1610895678401,"results":"38","hashOfConfig":"37"},{"size":362,"mtime":1610658490527,"results":"39","hashOfConfig":"37"},{"size":1238,"mtime":1611712243202,"results":"40","hashOfConfig":"37"},{"size":997,"mtime":1610973840278,"results":"41","hashOfConfig":"37"},{"size":749,"mtime":1610895374022,"results":"42","hashOfConfig":"37"},{"size":394,"mtime":1611103040677,"results":"43","hashOfConfig":"37"},{"size":388,"mtime":1610970777341,"results":"44","hashOfConfig":"37"},{"size":3593,"mtime":1611712243282,"results":"45","hashOfConfig":"37"},{"size":3945,"mtime":1611712243262,"results":"46","hashOfConfig":"37"},{"size":2713,"mtime":1611712243266,"results":"47","hashOfConfig":"37"},{"size":739,"mtime":1610898668066,"results":"48","hashOfConfig":"37"},{"size":4574,"mtime":1611712243186,"results":"49","hashOfConfig":"37"},{"size":5453,"mtime":1611712243178,"results":"50","hashOfConfig":"37"},{"size":0,"mtime":1610891133284,"results":"51","hashOfConfig":"37"},{"size":1114,"mtime":1610984916798,"results":"52","hashOfConfig":"37"},{"size":2370,"mtime":1611712243282,"results":"53","hashOfConfig":"37"},{"size":1708,"mtime":1611712243294,"results":"54","hashOfConfig":"37"},{"size":962,"mtime":1611012850210,"results":"55","hashOfConfig":"37"},{"size":581,"mtime":1611712243298,"results":"56","hashOfConfig":"37"},{"size":1494,"mtime":1611222566124,"results":"57","hashOfConfig":"37"},{"size":923,"mtime":1611712243298,"results":"58","hashOfConfig":"37"},{"size":1007,"mtime":1611712243202,"results":"59","hashOfConfig":"37"},{"size":1062,"mtime":1611712243218,"results":"60","hashOfConfig":"37"},{"size":5768,"mtime":1611712243262,"results":"61","hashOfConfig":"37"},{"size":987,"mtime":1611712243202,"results":"62","hashOfConfig":"37"},{"size":492,"mtime":1611712243218,"results":"63","hashOfConfig":"37"},{"size":2167,"mtime":1611712243322,"results":"64","hashOfConfig":"37"},{"size":2179,"mtime":1611712243258,"results":"65","hashOfConfig":"37"},{"size":3419,"mtime":1611712243178,"results":"66","hashOfConfig":"37"},{"size":1830,"mtime":1611712243322,"results":"67","hashOfConfig":"37"},{"size":637,"mtime":1611712243202,"results":"68","hashOfConfig":"37"},{"size":532,"mtime":1611712243258,"results":"69","hashOfConfig":"37"},{"size":1002,"mtime":1611712243242,"results":"70","hashOfConfig":"37"},{"size":778,"mtime":1611712243230,"results":"71","hashOfConfig":"37"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1y2zozq",{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"90"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"90"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"90"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"90"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"90"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"90"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"90"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"90"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/index.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/App.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/reportWebVitals.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/Main.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/Purchases.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/RecipeBook.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/PurchaseNavigator.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/input/InputNavigator.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/PurchaseFromNFe.js",[],["151","152"],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/Purchase.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/PurchaseCrud.js",["153"],"import axios from 'axios';\nimport BasicCrud from '../../../generics/BasicCrud.js';\nimport TransactionCrud from '../../finances/transaction/TransactionCrud.js';\nimport PurchaseItemCrud from './item/PurchaseItemCrud.js';\nimport NfeCrud from './nfe/NfeCrud.js';\n\nclass PurchaseCrud extends BasicCrud{\n\n  constructor () {\n    super(\"purchases\");\n    this.transactionCrud = new TransactionCrud();\n    this.providerCrud = new BasicCrud(\"providers\");\n    this.itemCrud = new PurchaseItemCrud();\n    this.nfeCrud = new NfeCrud(\"nFeXmls\",\"nFeXmlProjection\");\n  }\n\n  async getOperation (setEntities) {\n    let purchases = await super.getOperationNoSetEntities();\n    for(let i =0; i < purchases.length; i++) {\n      let purchase = {...purchases[i]};\n      purchase = await this.providerCrud.getRelationOperation(\"provider\",purchase);\n      purchase = await this.transactionCrud.getRelationOperation(\"transaction\",purchase);\n      purchase = await this.nfeCrud.getRelationOperation(\"nfe\",purchase);\n      let items = await super.getWithUrlOperation(purchase._links.items.href);\n      purchase = {...purchase, items: items._embedded.purchaseItems};\n      for(let j =0; j < purchase.items.length; j++) {\n        purchase = await this.itemCrud.getRelationsWithIndexOperation(j,\"items\",purchase);\n      }\n      purchases[i] = purchase;\n    }\n    setEntities(purchases);\n  }\n\n  async postOperation (setEntities, entityToSave) {\n    entityToSave = await this.nfeCrud.postRelationOperation(\"nfe\",entityToSave);\n    // tente recupear por CNPJ\n    await axios.get(\"/providers/search/findByCnpj?cnpj=\"+entityToSave.provider.cnpj)\n      .then((response) => {\n        entityToSave = {\n          ...entityToSave,\n          provider: response.data._links.self.href,\n        };\n      }, async (error) => {\n        entityToSave = await this.providerCrud.postRelationOperation(\"provider\",entityToSave);\n      });\n    entityToSave = await this.transactionCrud.postRelationOperation(\"transaction\",entityToSave);\n    let items = [...entityToSave.items];\n    for(let i =0; i < items.length; i++) {\n      entityToSave = await this.itemCrud.postRelationOperation(i,\"items\",entityToSave);\n    }\n    super.postOperation(setEntities, entityToSave);\n  }\n\n  async putOperation (setEntities, url, entityToSave) {\n    entityToSave = await this.nfeCrud.putRelationOperation(\"nfe\",entityToSave);\n    entityToSave = await this.providerCrud.putRelationOperation(\"provider\",entityToSave);\n    entityToSave = await this.transactionCrud.putRelationOperation(\"transaction\",entityToSave);\n    entityToSave = {\n      ...entityToSave,\n      items: []\n    }\n    super.putOperation(setEntities, url, entityToSave);\n  }\n}\n\nexport default PurchaseCrud;\n","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/input/Input.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/generics/Navigator.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/generics/BasicCrud.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/input/InputAux.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/provider/Provider.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/item/PurchaseItem.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/item/PurchaseItemCrud.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/purchase/nfe/NfeCrud.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/unit/SimplerUnit.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/purchases/inventory/InventoryMovemmentCrud.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/recipeBook/input/SimplerInput.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/Accounting.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/account/AccountNavigator.js",["154"],"import React from 'react';\nimport './AccountNavigator.css';\nimport Account from './Account.js';\nimport Navigator from '../../../generics/Navigator.js';\nimport BasicCrud from '../../../generics/BasicCrud.js';\nimport AccountCrud from './AccountCrud.js';\nimport axios from 'axios';\n\nclass AccountNavigator extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      accountOptionsList: []\n    };\n    this.updateOptionsLists = this.updateOptionsLists.bind(this);\n  }\n\n  componentDidMount () {\n    this.updateOptionsLists();\n  }\n\n  updateOptionsLists () {\n    axios.get(\"accounts\").then( (response) => {\n      this.setState({\n        accountOptionsList: response.data._embedded.accounts,\n      });\n    }, (error) => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"account-navigator\">\n        <Navigator crud={new AccountCrud()}>\n          <Account prefix=\"\" accountOptionsList={this.state.accountOptionsList}/>\n        </Navigator>\n      </div>\n    );\n  }\n\n}\n\nexport default AccountNavigator;\n","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/transaction/TransactionListView.js",["155"],"import './TransactionListView.css';\nimport React from 'react';\nimport ListView from '../../../generics/ListView.js';\nimport TransactionCrud from './TransactionCrud.js';\nimport SimplerTransaction from './SimplerTransaction.js';\nimport axios from 'axios';\n\nclass TransactionListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      entities: [],\n      fetchingData: true,\n      typesOptionsList: [{}],\n      modalitiesOptionsList: [{}],\n      accountsOptionsList: [{}],\n      editing: false,\n      entity: {},\n    }\n    this.updateOptionsLists = this.updateOptionsLists.bind(this);\n    this.adicionar = this.adicionar.bind(this);\n    this.salvar = this.salvar.bind(this);\n    this.apagar = this.apagar.bind(this);\n    this.addEntry = this.addEntry.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.transactionCrud = new TransactionCrud();\n    this.handleSelectedChange = this.handleSelectedChange.bind(this);\n    this.refresh = this.refresh.bind(this);\n  }\n\n  handleSelectedChange(event, index) {\n    const checked = event.target.checked;\n    let selecteds = [...this.state.selecteds];\n    selecteds[index] = checked;\n    this.setState({selecteds});\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    // dividindo o nome para encontrar subobjetos\n    const names = name.split(\".\");\n\n    let entity = {...this.state.entity};\n    let entityHierarchy = [entity];\n\n    let i = 0;\n    let finished = false;\n    while(i >= 0) {\n      if(!finished && i === names.length - 1) { // então chegamos ao último\n        entityHierarchy[i][names[i]] = value;\n        finished = true;\n        i--;\n      } else if (!finished) {\n        if(Array.isArray(entityHierarchy[i][names[i]])) {\n          entityHierarchy[i+1] = [...entityHierarchy[i][names[i]]];\n        } else {\n          entityHierarchy[i+1] = {...entityHierarchy[i][names[i]]};\n        }\n        i++;\n      } else {\n        entityHierarchy[i][names[i]] = entityHierarchy[i+1];\n        i--;\n      }\n    }\n\n    this.setState({entity});\n  }\n\n  componentDidMount () {\n    this.updateOptionsLists()\n    this.refresh();\n  }\n\n  refresh() {\n    this.transactionCrud.getOperation().then(\n      (r) => {\n        this.setEntities(r);\n        this.setState({\n          fetchingData: false,\n          selecteds: new Array(r.length).fill(false)\n        });\n      }\n    );\n  }\n\n  setEntities(entities) {\n    if(entities.length !== 0 ) {\n      this.setState({\n        entities: entities\n      });\n    }\n  }\n\n  updateOptionsLists() {\n    axios.get(\"transactionTypes\")\n      .then((response) => {\n        this.setState({\n            typesOptionsList: response.data._embedded.transactionTypes,\n        })\n      }, (error) => {\n        console.log(error);\n      });\n    axios.get(\"transactionModalities\")\n      .then((response) => {\n        this.setState({\n            modalitiesOptionsList: response.data._embedded.transactionModalities,\n        })\n      }, (error) => {\n        console.log(error);\n      });\n    axios.get(\"accounts\")\n      .then((response) => {\n        this.setState({\n            accountsOptionsList: response.data._embedded.accounts,\n        })\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  adicionar() {\n    this.setState({\n      editing: true,\n      entity: {\n        entries:[\n          {},{}\n        ]\n      }\n    });\n  }\n\n  modificar() {\n\n  }\n\n  apagar() {\n    for(let i = 0; i < this.state.selecteds.length; i++ ) {\n      if(this.state.selecteds[i]) {\n        this.transactionCrud.deleteOperation(this.state.entities[i]._links.self.href);\n        this.refresh();\n      }\n    }\n  }\n\n  salvar() {\n    this.transactionCrud.postOperation(this.state.entity);\n    this.refresh();\n  }\n\n  addEntry() {\n    let entries = [...this.state.entity.entries];\n    entries.push({});\n    let entity = {\n      ...this.state.entity,\n      entries: entries\n    };\n    this.setState({entity});\n  }\n\n  render() {\n    if(this.state.fetchingData) {\n      return <h3>Carregando...</h3>\n    }\n    let listEntities = \"\";\n\n    listEntities = this.state.entities.map ((entity,index) =>\n      <>\n        <SimplerTransaction\n          typesOptionsList={this.state.typesOptionsList}\n          modalitiesOptionsList={this.state.modalitiesOptionsList}\n          accountsOptionsList={this.state.accountsOptionsList}\n          editing={false}\n          entity={entity}\n          prefix={\"\" + index + \".\"}>\n          <td>\n            <input\n              type=\"checkbox\"\n              name={index + \"._selected\"}\n              value={entity._selected}\n              onChange={(event) => this.handleSelectedChange(event,index)}>\n            </input>\n          </td>\n        </SimplerTransaction>\n      </>);\n    let editing = <></>;\n    if(this.state.editing) {\n      editing = (\n        <>\n        <SimplerTransaction\n          typesOptionsList={this.state.typesOptionsList}\n          modalitiesOptionsList={this.state.modalitiesOptionsList}\n          accountsOptionsList={this.state.accountsOptionsList}\n          editing={true}\n          entity={this.state.entity}\n          onChange={this.handleInputChange}\n          prefix={\"\"} />\n        <button onClick={() => this.salvar()}>Salvar</button>\n        <button onClick={() => this.addEntry()}>Adicionar entrada</button>\n        </>\n      );\n    }\n    return (\n      <>\n        <h3>Transações</h3>\n        <table>\n          {listEntities}\n          <button onClick={() => this.adicionar()}>Adicionar</button>\n          <button onClick={() => this.apagar()}>Apagar</button>\n          {editing}\n        </table>\n      </>\n    );\n  }\n\n}\n\nexport default TransactionListView;\n","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/account/Account.js",["156"],"import './Account.css';\nimport React from 'react';\nimport SimplerLinkSelect from '../../../generics/SimplerLinkSelect.js';\n\nclass Account extends React.Component {\n\n  render () {\n    \n    return (\n      <div class-name=\"input\">\n        <div>\n          <label htmlFor=\"name\">Nome: </label>\n          <input name=\"name\" type=\"text\" value={this.props.entity.name || ''} onChange={this.props.onChange} readOnly={!this.props.editing}></input>\n        </div>\n        <div>\n          <label htmlFor=\"comment\">Comentários: </label>\n          <input name=\"comment\" type=\"text\" value={this.props.entity.comment || ''} onChange={this.props.onChange} readOnly={!this.props.editing}></input>\n        </div>\n        <div>\n          <label htmlFor=\"created\">Criada em: </label>\n          <input name=\"created\" type=\"date\" value={this.props.entity.created || ''} onChange={this.props.onChange} readOnly={!this.props.editing}></input>\n        </div>\n\n      </div>\n    );\n  }\n\n}\n\nexport default Account;\n","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/account/AccountCrud.js",["157"],"import axios from 'axios';\nimport BasicCrud from '../../../generics/BasicCrud.js';\n\nclass AccountCrud extends BasicCrud{\n\n  constructor () {\n    super(\"accounts\");\n  }\n\n  async getOperation () {\n    let accounts = await super.getOperation();\n    for(let i =0; i < accounts.length; i++) {\n      let account = {...accounts[i]};\n      account = await super.getRelationOperation(\"motherAccount\",account);\n      accounts[i] = account;\n    }\n    return accounts;\n  }\n}\n\nexport default AccountCrud;\n","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/transaction/TransactionCrud.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/transaction/SimplerTransaction.js",["158"],"import './SimplerTransaction.css';\nimport React from 'react';\nimport axios from 'axios';\nimport SimplerLinkSelect from '../../../generics/SimplerLinkSelect.js';\nimport EntryList from '../entry/EntryList.js';\n\nclass SimplerTransaction extends React.Component {\n\n  render() {\n    if(this.props.editing){\n      var buttons = (\n        <>\n          <td>\n            <button onClick={() => this.props.addEntry()}>Adicionar entrada</button>\n          </td>\n        </>\n      );\n    }\n\n\n    return (\n      <>\n        <tr>\n          <td>\n            <input\n              name={this.props.prefix + \"date\"}\n              type=\"date\"\n              value={this.props.entity.date ? this.props.entity.date : '' || ''}\n              onChange={this.props.onChange}\n              readOnly={!this.props.editing}></input>\n          </td>\n          <td>\n            <SimplerLinkSelect\n              entity={this.props.entity.type || \"\"}\n              prefix={this.props.prefix + \"type\"}\n              onChange={this.props.onChange}\n              editing={this.props.editing}\n              optionsList={this.props.typesOptionsList}/>\n          </td>\n          <td>\n            <SimplerLinkSelect\n              entity={this.props.entity.modality || \"\"}\n              prefix={this.props.prefix + \"modality\"}\n              onChange={this.props.onChange}\n              editing={this.props.editing}\n              optionsList={this.props.modalitiesOptionsList}/>\n          </td>\n          <td colSpan=\"2\">Entradas:</td>\n          <td>\n            <input\n              name={this.props.prefix + \"description\"}\n              type=\"text\"\n              value={this.props.entity.description || ''}\n              onChange={this.props.onChange}\n              readOnly={!this.props.editing}></input>\n          </td>\n        </tr>\n        <EntryList\n          entity={this.props.entity.entries || []}\n          prefix={this.props.prefix+\"entries.\"}\n          onChange={this.props.onChange}\n          editing={this.props.editing}\n          accountsOptionsList={this.props.accountsOptionsList}/>\n        {buttons}\n      </>\n    );\n  }\n\n}\n\nexport default SimplerTransaction;\n","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/generics/ListView.js",["159"],"import './ListView.css';\nimport React from 'react';\nimport axios from 'axios';\n\nclass ListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.adicionar = this.adicionar.bind(this);\n    this.salvar = this.salvar.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  state = {\n    entities: [{}],\n    fetchingData: true,\n    editing: [false],\n  };\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    // dividindo o nome para encontrar subobjetos\n    let names = name.split(\".\");\n\n    const index = names[0];\n    names.splice(0,1);\n    let entity = {...this.state.entities[index]};\n    let entityHierarchy = [entity];\n\n    let i = 0;\n    let finished = false;\n    if(names.length===0) {\n      return;\n    }\n    while(i >= 0) {\n      if(!finished && i === names.length - 1) { // então chegamos ao último\n        entityHierarchy[i][names[i]] = value;\n        finished = true;\n        i--;\n      } else if (!finished) {\n        if(Array.isArray(entityHierarchy[i][names[i]])) {\n          entityHierarchy[i+1] = [...entityHierarchy[i][names[i]]];\n        } else {\n          entityHierarchy[i+1] = {...entityHierarchy[i][names[i]]};\n        }\n        i++;\n      } else {\n        entityHierarchy[i][names[i]] = entityHierarchy[i+1];\n        i--;\n      }\n    }\n    let entities = [...this.state.entities];\n    entities[index] = entity;\n    this.setState({entities});\n  }\n\n  componentDidMount () {\n    this.props.crud.getOperation().then(\n      (r) => {\n        this.setEntities(r);\n        this.setState({\n          fetchingData: false,\n        });\n      }\n    );\n  }\n\n  setEntities(entities) {\n    if(entities.length !== 0 ) {\n      this.setState({\n        entities: entities,\n        editing: new Array(entities.length).fill(false)\n      });\n    }\n  }\n\n  adicionar() {\n    let entities = [...this.state.entities];\n    let editing = [...this.state.editing];\n    entities.push({});\n    editing.push(true);\n    this.setState({\n      entities: entities,\n      editing: editing\n    });\n  }\n\n  salvar() {\n    for(let i=0;i<this.state.editing.length;i++) {\n      if(this.state.editing[i]) {\n        this.props.crud.postOperation(this.state.entities[i]);\n        this.setState({\n          entities: this.props.crud.getOperation()\n        });\n      }\n    }\n  }\n\n  render() {\n    if(this.state.fetchingData) {\n      return <h3>Carregando...</h3>\n    }\n    let listEntities = \"\";\n\n      listEntities = this.state.entities.map ((entity,index) =>\n        <>\n          {React.cloneElement(this.props.children, {\n            entity: entity,\n            editing: this.state.editing[index],\n            onChange: this.handleInputChange,\n            prefix: \"\" + index + \".\"\n           })}\n        </>);\n    let editControls = \"\";\n    if(!this.props.noEditControls){\n      editControls = (\n        <tr>\n         <td colspan={this.props.colspan || 20}>\n           <button onClick={() => this.props.adicionar ? this.props.adicionar() : this.adicionar()}>\n             Adicionar\n           </button>\n           <button onClick={() => this.salvar()}>\n             Salvar\n           </button>\n         </td>\n        </tr>\n      );\n    }\n    return (\n      <tbody>\n        {listEntities}\n        {editControls}\n      </tbody>\n    );\n  }\n\n}\n\nexport default ListView;\n","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/transaction/Transaction.js",["160"],"import './Transaction.css';\nimport React from 'react';\nimport Account from '../account/Account.js';\nimport SimplerLinkSelect from '../../../generics/SimplerLinkSelect.js';\n\nclass Transaction extends React.Component {\n\n  render () {\n    let accountSelect= '';\n    if(this.props.entity._links) {\n      accountSelect = <SimplerLinkSelect\n        entity={this.props.entity._links.account}\n        prefix={this.props.prefix + \"_links.account.\"}\n        onChange={this.props.onChange}\n        editing={this.props.editing}\n        optionsList={this.props.accountsOptionsList}/>;\n    }\n    return (\n      <div class-name=\"transaction\">\n        <div>\n          <label htmlFor={this.props.prefix + 'value'}>Valor total: </label>\n          <input name={this.props.prefix + 'value'} type=\"number\" value={this.props.entity.value || ''} onChange={this.props.onChange} readOnly={!this.props.editing}></input>\n        </div>\n        <div>\n          <label htmlFor={this.props.prefix + 'date'}>Data: </label>\n          <input name={this.props.prefix + 'date'} type=\"date\" value={this.props.entity.date || ''} onChange={this.props.onChange} readOnly={!this.props.editing}></input>\n        </div>\n        <div>\n          <label htmlFor={this.props.prefix + 'modality'}>Modalidade: </label>\n          <input name={this.props.prefix + 'modality'} type=\"text\" value={this.props.entity.modality || ''} onChange={this.props.onChange} readOnly={!this.props.editing}></input>\n        </div>\n        <div>\n          <label htmlFor={this.props.prefix + 'comment'}>Comentários: </label>\n          <input name={this.props.prefix + 'comment'} type=\"text\" value={this.props.entity.comment || ''} onChange={this.props.onChange} readOnly={!this.props.editing}></input>\n        </div>\n        {accountSelect}\n      </div>\n    );\n  }\n}\n\nexport default Transaction;\n","/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/generics/SimplerLinkSelect.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/entry/EntryList.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/entry/EntryCrud.js",[],"/data/lucas/archive/2021/2021 Sistema Pasta e Riso/spastaeriso/app/src/main/accounting/entry/Entry.js",[],{"ruleId":"161","replacedBy":"162"},{"ruleId":"163","replacedBy":"164"},{"ruleId":"165","severity":1,"message":"166","line":47,"column":9,"nodeType":"167","messageId":"168","endLine":47,"endColumn":13},{"ruleId":"165","severity":1,"message":"169","line":5,"column":8,"nodeType":"167","messageId":"168","endLine":5,"endColumn":17},{"ruleId":"165","severity":1,"message":"170","line":3,"column":8,"nodeType":"167","messageId":"168","endLine":3,"endColumn":16},{"ruleId":"165","severity":1,"message":"171","line":3,"column":8,"nodeType":"167","messageId":"168","endLine":3,"endColumn":25},{"ruleId":"165","severity":1,"message":"172","line":1,"column":8,"nodeType":"167","messageId":"168","endLine":1,"endColumn":13},{"ruleId":"165","severity":1,"message":"172","line":3,"column":8,"nodeType":"167","messageId":"168","endLine":3,"endColumn":13},{"ruleId":"165","severity":1,"message":"172","line":3,"column":8,"nodeType":"167","messageId":"168","endLine":3,"endColumn":13},{"ruleId":"165","severity":1,"message":"173","line":3,"column":8,"nodeType":"167","messageId":"168","endLine":3,"endColumn":15},"no-native-reassign",["174"],"no-negated-in-lhs",["175"],"no-unused-vars","'item' is defined but never used.","Identifier","unusedVar","'BasicCrud' is defined but never used.","'ListView' is defined but never used.","'SimplerLinkSelect' is defined but never used.","'axios' is defined but never used.","'Account' is defined but never used.","no-global-assign","no-unsafe-negation"]